<odoo>
    <data>

        <template id="assets_frontend" inherit_id="web.assets_frontend">
            <xpath expr="." position="inside">
                <link rel="stylesheet" href="/service_mobile/static/src/css/site.css"/>
            </xpath>
        </template>

        <template id="index">
            <t t-call="website.layout">
                <div class="table-wrapper">
                    <div class="table-title">
                        <div class="row">
                            <div class="col-sm-6">
                                <h2 class="d-inline mr-1">Orders</h2>
                                <a t-att-href="'/service/order/create'" class="ml-1">
                                    <h2 class="d-inline">Create New</h2>
                                </a>
                            </div>
                        </div>
                    </div>
                    <table class="table table-striped table-hover">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Order ID</th>
                                <th>Customer</th>
                                <th>Order date</th>
                                <th>Status</th>
                                <th>Total amount</th>
                                <th>Action</th>
                                <th>Prio</th>
                            </tr>
                        </thead>
                        <tbody>

                            <tr t-if="order_state == 'cancel'">

                                <span class="row alert alert-success">
                                    Cancel successed!
                                </span>
                            </tr>


<!--                    <t t-set="i" t-value="1"/>-->
              <tr t-foreach="order_ids" t-as="order">
                <td>
                    <t t-esc="order_index+1"/>
                </td>
                <td>
                  <a t-att-href="'/service/%s/order' % order.id">
                    <t t-esc="order.display_name" />
                  </a>
                </td>
                <td>
                  <t t-esc="order.partner_id.name" />
                </td>
                <td>
                  <t t-esc="order.date_order" />
                </td>
                <td>
                  <t t-if="order.state == 'sale'">
                    <span class="badge badge-success">
                      <t t-esc="order.state" />
                    </span>
                  </t>
                  <t t-elif="order.state == 'sent'">
                    <span class="badge badge-info">
                      <t t-esc="order.state" />
                    </span>
                  </t>
                  <t t-elif="order.state == 'cancel'">
                    <span class="badge badge-danger">
                      <t t-esc="order.state" />
                    </span>
                  </t>
                  <t t-elif="order.state == 'done'">
                    <span class="badge badge-secondary">
                      <t t-esc="order.state" />
                    </span>
                  </t>
                  <t t-else="">
                    <span class="badge badge-warning">
                      <t t-esc="order.state" />
                    </span>
                  </t>
                </td>
                <td>
                  <t t-esc="order.amount_total" />
                </td>
                <td>
                  <a t-att-href="'/service/%s/order/delete' % order.id">
                    <i class="fa fa-trash" />
                  </a>
                  |
                  <a t-att-href="'/service/%s/order/send' % order.id">
                    <i class="fa fa-paper-plane" />
                  </a>
                </td>
                <td>
                  <span>
                    <t t-esc="'True' if order.prio else 'False'" />
                  </span>
                </td>
              </tr>

                        </tbody>
                    </table>
                </div>
            </t>
        </template>


        <template id="view_order">
            <t t-call="website.layout">
                <form id="info_form" t-att-action="'/service/%s/order' % order.id" method="post"
                      class="form-horizontal mt32" enctype="multipart/form-data">
                    <input type="hidden" name="id" t-att-value="order.id"/>
                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                    <div class="form-group">
                        <label class="col-md-3 col-sm-4 control-label" for="foobar1">Customer</label>
                        <div class="col-md-7 col-sm-8">
                            <p class="form-control-static" name="foobar1">
                                <t t-esc="order.partner_id.name"/>
                            </p>
                        </div>
                    </div>
                    <div t-att-class="'form-group %s' %validation.get('note', '')">
                        <label class="col-md-3 col-sm-4 control-label" for="note">Note</label>

                        <div class="col-md-7 col-sm-8">
                            <input type="text" class="form-control" name="note"
                                   t-att-value="order.note if order.note else order.name" placeholder="Notes..."/>
                            <small t-esc="help.get('note', '')"/>

                            <p class="font-weight-bold mt-3">Priority</p>
                            <label class="switch switch-left-right mt--3">
                                <input class="switch-input" type="checkbox" name="prio" t-att-checked="order.prio"/>
                                <span class="switch-label" data-on="On" data-off="Off"/>
                                <span class="switch-handle"/>
                            </label>

                        </div>

                    </div>

                    <div class="col-md-12">
                        <div class="pull-right mb16">
                            <div class="">
                                <button id="submit_btn" class="btn btn-primary btn-lg">Save</button>
                            </div>
                        </div>
                    </div>
                </form>
            </t>
        </template>

        <template id="create_order">
            <t t-call="website.layout">
                <form id="create_order_form" t-att-action="'/service/order/create'" method="post"
                      class="form-horizontal mt32" enctype="multipart/form-data">
                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                    <div class="form-group">
                        <label class="col-md-3 col-sm-4 control-label" for="foobar1">Create new sales order</label>
                    </div>
                    <div t-att-class="'form-group %s' %validation.get('sales_order', '')">
                        <label class="col-md-3 col-sm-4 control-label" for="partner_id">Customer:</label>
                        <div class="col-md-7 col-sm-8">
                            <select class="form-control" name="partner_id">
                                <t t-foreach="partner_ids" t-as="p">
                                    <option t-esc="p.display_name" t-att-value="p.id"/>
                                </t>
                            </select>
                        </div>
                        <label class="col-md-3 col-sm-4 control-label" for="sale_order_template_id">Sales order
                            template:
                        </label>
                        <div class="col-md-7 col-sm-8">
                            <select class="form-control" name="sale_order_template_id">
                                <t t-foreach="sale_order_template_ids" t-as="t">
                                    <option t-esc="t.name" t-att-value="t.id"/>
                                </t>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="pull-right mb16">
                            <div class="">
                                <button id="submit_btn" class="btn btn-primary btn-lg">Create</button>
                            </div>
                        </div>
                    </div>
                </form>
            </t>
        </template>

        <!--        VG UPPGIFT-->
        <template id="index_public">
            <ul>
                <li t-foreach="order_ids" t-as="order">
                    <t t-esc="order.id"/>
                    <t t-esc="' : ' + order.display_name"/>
                    <t t-esc="' : ' + order.partner_id.name"/>
                    <t t-esc="' : '"/>
                    <t t-esc="order.amount_total"/>
                    <t t-esc="' : ' + order.state"/>
                </li>
            </ul>
        </template>


    </data>
</odoo>
